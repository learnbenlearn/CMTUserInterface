<!--
  @description       : 
  @author            : Ben Learn
  @group             : 
  @last modified on  : 05-21-2022
  @last modified by  : Ben Learn
-->
<template>
    <template if:true={showSpinner}>
      <lightning-spinner></lightning-spinner>
    </template>

    <template if:false={showSpinner}>
      <template if:false={cmtOptions}>
        <c-cmt-ui-setup onsetupcmtrecords={handleSetupCMTRecords} onrefreshcmtrecords={handleRefreshCMTRecords}>
        </c-cmt-ui-setup>
      </template>

      <template if:true={cmtOptions}>
        <lightning-combobox label="Select Custom Metadata Type" options={cmtOptions} onchange={handleCMTChange}>
        </lightning-combobox>
        <br/>

        <div class="slds-grid slds-gutters">
          <div class="slds-col slds-size_1-of-3">
            <c-cmt-records-sidebar cmt-records-by-name={cmtRecordsByName} onrecordselected={handleRecordSelected}></c-cmt-records-sidebar>
          </div>
          <div class="slds-col slds-size_2-of-3">
            <template if:true={recordSelected}>
              <c-cmt-record-form cmt-custom-fields={recordCustomFields} cmt-record={selectedRecord}></c-cmt-record-form>
            </template>
          </div>
        </div>
      </template>
    </template>
</template>