<!--
  @description       : 
  @author            : Ben Learn
  @group             : 
  @last modified on  : 05-28-2022
  @last modified by  : Ben Learn
-->
<template>
    <template if:true={showSpinner}>
      <lightning-spinner></lightning-spinner>
    </template>

    <template if:false={showSpinner}>
      <template if:false={cmtOptions}>
        <c-cmt-ui-setup onsetupcmtrecords={handleSetupCMTRecords} onrefreshcmtrecords={handleRefreshCMTRecords}>
        </c-cmt-ui-setup>
      </template>

      <template if:true={cmtOptions}>
        <lightning-combobox label="Select Custom Metadata Type" options={cmtOptions} onchange={handleCMTChange}>
        </lightning-combobox>
        <br/>

        <div class="slds-grid slds-gutters">
          <div class="slds-col slds-size_1-of-3">
            <c-sidebar label-key-name="MasterLabel" value-key-name="DeveloperName" sidebar-options={cmtRecords} 
              onoptionselected={handleRecordSelected}>
            </c-sidebar>
          </div>
          <div class="slds-col slds-size_2-of-3">
            <template if:true={displayRecord}>
              <c-record-form record={selectedRecord} custom-field-describe={customFieldDescribe}></c-record-form>
            </template>
          </div>
        </div>
      </template>
    </template>
</template>